# In MongoDB, relationships represent how different documents are logically connected.
- `One-to-one` : when 1 user have one relation like contacts, 
- `One-to-many` : when 1 user can have multiple addresses
- `Many-to-many` : when 1 course can be opted by many user and 1 user can opted many course.
## Embedded Document (Denormalization)
Nested document or object inside a document.
### Advantages
- Good for one-to-one and one-to-many relation (where many is bound, not supposed to grow in future).
- When data is frequently accessed(not supposed to search in another table).

### Drawbacks
- Document size limit is 16MB.
- 100 level depth is allowed.
- When update anything inside nested, need to update the entire document which is ineficient.

## Reference Document (Normalization)
Storing one document uniques identifier into another document(same as foreign key in relation dbs).
### Advantages
- For one-to-many && many-to-many relations, where many is not bound, can grow in future.
- When data is frequently is updated.
- To avoid duplication(redundancy)
### Drawbacks
- Require multiple queries or aggregation.

```js
db.users.aggregate([
    "$lookup":{
        "from":"orders",   //target collection
        "localField" : "_id",  //field from users collection
        "foreignField" : "user_id",  //field stored in another collection
        "as" : "orders"  //field name given to the new resultant array
    }
])
```
another way is to use mongoose `.populate()` method.
```js
const order = await User.findById(userId).populate('orders');
```